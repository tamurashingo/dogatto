# DOGATTO プロジェクト憲章
<!-- 複数のタグを使って管理を行なうTODOアプリケーション -->

## プロジェクト概要

**プロジェクト名**: DOGATTO (TAG TODO のアナグラム)

**目的**: 複数のタグを使ってTODOを柔軟に管理できるWebアプリケーションの開発

**ビジョン**: タグベースの分類により、日々のタスク管理からプロジェクト管理まで、ユーザーが自由に TODO を整理・追跡できるシステムを提供する

## 核となる原則

### I. タグファースト設計
- すべてのTODOは複数のタグで分類可能
- タグは自由に作成・編集・マージが可能
- ラベルによるタグのグルーピングをサポート
- ラベルもマージが可能
- タグベースの検索・フィルタリングを優先
- マージされたタグ/ラベルへのアクセスは自動的に新しいタグ/ラベルにリダイレクト
- 削除されたタグ/ラベルへのアクセスは404エラーを返す

### II. REST API ファースト
- すべての機能はREST APIとして提供
- Web/モバイル両対応のAPI設計
- JSONフォーマットでのデータ交換
- 明確なエラーハンドリングとレスポンス
- 外部からのリソース識別にはULIDを使用（auto incrementなIDは使用しない）
- タグ、ラベル、ユーザーなどすべての外部APIアクセスはULIDベース
- ULIDは26文字、タイムスタンプ順ソート可能、推測困難
- システム内部ではPKを使用してアクセス可能

### III. セキュリティファースト（必須）
- すべてのエンドポイントで認証・認可を実装
- パスワードは必ずハッシュ化して保存
- SQLインジェクション・XSS対策を徹底
- HTTPS通信を前提とした設計

### IV. テスト駆動開発
- 新機能はテストファーストで実装
- ユニットテストとインテグレーションテストの両方を実施
- テストカバレッジ80%以上を目標
- CI/CDパイプラインでの自動テスト実行

### V. シンプルさと拡張性
- MVP（最小限の機能）から開始
- YAGNIの原則に従う（必要になるまで実装しない）
- 将来の拡張を考慮した設計
- ドキュメントとコードの同期を維持

## 技術スタック

### バックエンド
- 言語: Common Lisp
- フレームワーク: clails
- データベース: MySQL 5.7以上
- 認証: JWT + OAuth (GitHub)
- データベース設計:
  - PKには auto increment な ID を使用
  - 外部公開用には unique key として ULID を各テーブルに持つ
  - 外部API経由のアクセスはすべてULIDを使用
  - システム内部ではPKでのアクセスを使用

### フロントエンド
- 言語: TypeScript
- フレームワーク: React
- モダンブラウザ対応（最新2バージョン）

### 開発環境
- Docker による環境構築
- Git によるバージョン管理
- GitHub Issues によるタスク管理

## スコープ定義

### 対象範囲
- ユーザー認証（メールアドレス、GitHub OAuth）
- TODO管理（CRUD操作）
- TAG管理（作成、修正、マージ、削除）
- LABEL管理（作成、修正、マージ、削除）
- マージ履歴の管理とリダイレクト機能
- TODOの共有機能
- REST API提供
- Webフロントエンド

### 対象外（将来フェーズ）
- モバイルネイティブアプリ
- リアルタイム通知機能
- 外部サービス連携

## ガバナンス

この憲章はプロジェクトの最上位の方針として機能する：

- すべての開発はこの憲章に準拠する
- 憲章の修正には十分な議論と文書化が必要
- セキュリティ要件は例外なく遵守する
- テストなしのコードマージは禁止

## マイルストーン

### フェーズ1: MVP
- ユーザー登録・ログイン
- TODO基本機能（CRUD）
- TAG基本機能
- シンプルなWeb UI

### フェーズ2: 拡張機能
- LABEL機能
- TODO共有機能
- 高度な検索機能

### フェーズ3: 最適化
- パフォーマンスチューニング
- UI/UX改善
- モバイル対応強化

**Version**: 1.3.1 | **Ratified**: 2026-01-09 | **Last Amended**: 2026-01-10
